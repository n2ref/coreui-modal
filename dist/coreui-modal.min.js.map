{"version":3,"sources":["coreui.modal.js"],"names":["CoreUI","modal","_currentModal","show","title","body","options","let","tplFooter","hasOwnProperty","footer","size","uniqueId","id","this","_hashCode","tpl","$","append","modalElement","document","getElementById","bootstrap","Modal","backdrop","addEventListener","e","onShow","onShown","onHide","remove","onHidden","hide","_crc32","Date","getTime","Math","random","toString","str","o","c","a","f","n","t","length","charCodeAt"],"mappings":"AACA,IAAIA,OAA2B,KAAA,IAAXA,OAAyBA,OAAS,GAEtDA,OAAOC,MAAQ,CAEXC,cAAe,KAQfC,KAAM,SAAUC,EAAOC,EAAMC,GAEzBD,EAA0B,UAAhB,OAAOA,EAAoBA,EAAO,GAG5CE,IAAIC,GAFJF,EAA6B,UAAnB,OAAOA,EAAuBA,EAAU,IAE1BG,eAAe,QAAQ,GAA+B,UAA1B,OAAOH,EAAQI,OAC7D,6BAA+BJ,EAAQI,OAAS,SAChD,GAEFC,EAAOL,EAAQG,eAAe,MAAM,GAA6B,UAAxB,OAAOH,EAAQK,KACrDL,EAAQK,KAAO,SAAWL,EAAQK,KAAO,GAC1C,WAEFC,EAAWN,EAAQG,eAAe,IAAI,GAA2B,UAAtB,OAAOH,EAAQO,GACxDP,EAAQO,GACRC,KAAKC,UAAU,EAEjBC,EACA,mDAAqDJ,EACnD,8BAA8BD,EAGxB,kFAA6BP,EAG/B,+GACEC,EACF,SACAG,EAGN,qBAGJS,EAAE,MAAM,EAAEC,OAAOF,CAAG,EACpBT,IAAIY,EAAiBC,SAASC,eAAe,SAAWT,CAAQ,EAkChE,OAjCAE,KAAKZ,cAAgB,IAAIoB,UAAUC,MAAMJ,EAAc,CACnDK,SAAU,CAAA,CACd,CAAC,EAGDL,EAAaM,iBAAiB,gBAAiB,SAAUC,GACjDpB,EAAQG,eAAe,QAAQ,GAA+B,YAA1B,OAAOH,EAAQqB,QACnDrB,EAAQqB,OAAOD,CAAC,CAExB,CAAC,EAEDP,EAAaM,iBAAiB,iBAAkB,SAAUC,GAClDpB,EAAQG,eAAe,SAAS,GAAgC,YAA3B,OAAOH,EAAQsB,SACpDtB,EAAQsB,QAAQF,CAAC,CAEzB,CAAC,EAEDP,EAAaM,iBAAiB,gBAAiB,SAAUC,GACjDpB,EAAQG,eAAe,QAAQ,GAA+B,YAA1B,OAAOH,EAAQuB,QACnDvB,EAAQuB,OAAOH,CAAC,CAExB,CAAC,EACDP,EAAaM,iBAAiB,kBAAmB,SAAUC,GACvDP,EAAaW,OAAO,EAEhBxB,EAAQG,eAAe,UAAU,GAAiC,YAA5B,OAAOH,EAAQyB,UACrDzB,EAAQyB,SAASL,CAAC,CAG1B,CAAC,EAEDZ,KAAKZ,cAAcC,KAAK,EAEjBgB,CACX,EAMAa,KAAM,WAEElB,KAAKZ,gBACLY,KAAKZ,cAAc8B,KAAK,EACxBlB,KAAKZ,cAAgB,KAE7B,EAOAa,UAAW,WACP,OAAOD,KAAKmB,SAAQ,IAAIC,MAAOC,QAAQ,EAAIC,KAAKC,OAAO,GAAGC,SAAS,CAAC,EAAEA,SAAS,EAAE,CACrF,EAQAL,OAAQ,SAAUM,GAEd,IAAK,IAAOC,EAAI,GAAIC,EAAI,EAAGA,EAAI,IAAKA,CAAC,GAAI,CAErC,IAAK,IADLC,EAAID,EACKE,EAAI,EAAGA,EAAI,EAAGA,CAAC,GACpBD,EAAI,EAAIA,EAAI,WAAaA,IAAM,EAAIA,IAAM,EAE7CF,EAAEC,GAAKC,CACX,CAEA,IAAK,IAAIE,EAAI,CAAC,EAAGC,EAAI,EAAGA,EAAIN,EAAIO,OAAQD,CAAC,GACrCD,EAAIA,IAAM,EAAIJ,EAAE,KAAOI,EAAIL,EAAIQ,WAAWF,CAAC,IAG/C,OAAQ,CAAC,EAAID,KAAO,CACxB,CACJ","file":"coreui-modal.min.js","sourcesContent":["\r\nvar CoreUI = typeof CoreUI !== 'undefined' ? CoreUI : {};\r\n\r\nCoreUI.modal = {\r\n\r\n    _currentModal: null,\r\n\r\n    /**\r\n     * @param title\r\n     * @param body\r\n     * @param options\r\n     * @returns {HTMLElement}\r\n     */\r\n    show: function (title, body, options) {\r\n\r\n        body    = typeof body === \"string\" ? body : '';\r\n        options = typeof options === 'object' ? options : {};\r\n\r\n        let tplFooter = options.hasOwnProperty('footer') && typeof options.footer === \"string\"\r\n            ? '<div class=\"modal-footer\">' + options.footer + '</div>'\r\n            : '';\r\n\r\n        let size = options.hasOwnProperty('size') && typeof options.size === \"string\"\r\n            ? (options.size ? 'modal-' + options.size : '')\r\n            : 'modal-lg';\r\n\r\n        let uniqueId = options.hasOwnProperty('id') && typeof options.id === \"string\"\r\n            ? options.id\r\n            : this._hashCode();\r\n\r\n        let tpl =\r\n            '<div class=\"modal fade\" tabindex=\"-1\" id=\"modal-' + uniqueId + '\">' +\r\n              '<div class=\"modal-dialog ' + size + '\">' +\r\n                '<div class=\"modal-content\">' +\r\n                  '<div class=\"modal-header\">' +\r\n                    '<h5 class=\"modal-title\">' + title + '</h5>' +\r\n                    '<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>' +\r\n                  '</div>' +\r\n                  '<div class=\"modal-body\">' +\r\n                    body +\r\n                  '</div>' +\r\n                  tplFooter +\r\n                '</div>' +\r\n              '</div>' +\r\n            '</div>';\r\n\r\n\r\n        $('body').append(tpl);\r\n        let modalElement   = document.getElementById('modal-' + uniqueId);\r\n        this._currentModal = new bootstrap.Modal(modalElement, {\r\n            backdrop: true,\r\n        })\r\n\r\n\r\n        modalElement.addEventListener('show.bs.modal', function (e) {\r\n            if (options.hasOwnProperty('onShow') && typeof options.onShow === 'function') {\r\n                options.onShow(e);\r\n            }\r\n        });\r\n\r\n        modalElement.addEventListener('shown.bs.modal', function (e) {\r\n            if (options.hasOwnProperty('onShown') && typeof options.onShown === 'function') {\r\n                options.onShown(e);\r\n            }\r\n        });\r\n\r\n        modalElement.addEventListener('hide.bs.modal', function (e) {\r\n            if (options.hasOwnProperty('onHide') && typeof options.onHide === 'function') {\r\n                options.onHide(e);\r\n            }\r\n        });\r\n        modalElement.addEventListener('hidden.bs.modal', function (e) {\r\n            modalElement.remove();\r\n\r\n            if (options.hasOwnProperty('onHidden') && typeof options.onHidden === 'function') {\r\n                options.onHidden(e);\r\n            }\r\n\r\n        });\r\n\r\n        this._currentModal.show();\r\n\r\n        return modalElement;\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    hide: function () {\r\n\r\n        if (this._currentModal) {\r\n            this._currentModal.hide();\r\n            this._currentModal = null;\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * @returns {string}\r\n     * @private\r\n     */\r\n    _hashCode: function() {\r\n        return this._crc32((new Date().getTime() + Math.random()).toString()).toString(16);\r\n    },\r\n\r\n\r\n    /**\r\n     * @param str\r\n     * @returns {number}\r\n     * @private\r\n     */\r\n    _crc32: function (str) {\r\n\r\n        for (var a, o = [], c = 0; c < 256; c++) {\r\n            a = c;\r\n            for (var f = 0; f < 8; f++) {\r\n                a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1\r\n            }\r\n            o[c] = a\r\n        }\r\n\r\n        for (var n = -1, t = 0; t < str.length; t++) {\r\n            n = n >>> 8 ^ o[255 & (n ^ str.charCodeAt(t))]\r\n        }\r\n\r\n        return (-1 ^ n) >>> 0;\r\n    }\r\n}"]}