{"version":3,"sources":["coreui.modal.js"],"names":["CoreUI","modal","_currentModal","show","title","body","options","let","tplFooter","hasOwnProperty","footer","uniqueId","this","_hashCode","tpl","$","append","modalElement","document","getElementById","mdb","Modal","backdrop","addEventListener","e","onHide","remove","onHidden","onShow","onShown","onHidePrevented","hide","string","Date","getTime","h","i","length","charCodeAt","Math","abs"],"mappings":"AACA,IAAIA,OAA2B,KAAA,IAAXA,OAAyBA,OAAS,GAEtDA,OAAOC,MAAQ,CAEXC,cAAe,KAQfC,KAAM,SAAUC,EAAOC,EAAMC,GAEzBD,EAA0B,UAAhB,OAAOA,EAAoBA,EAAO,GAG5CE,IAAIC,GAFJF,EAA6B,UAAnB,OAAOA,EAAuBA,EAAU,IAE1BG,eAAe,QAAQ,GAA+B,UAA1B,OAAOH,EAAQI,OAC7D,6BAA+BJ,EAAQI,OAAS,SAChD,GAEFC,EAAWC,KAAKC,UAAU,EAC1BC,EACA,mDAAqDH,EAI7C,qHAA6BP,EAG/B,gHACEC,EACF,SACAG,EAGN,qBAGJO,EAAE,MAAM,EAAEC,OAAOF,CAAG,EACpBP,IAAIU,EAAiBC,SAASC,eAAe,SAAWR,CAAQ,EAuChE,OAtCAC,KAAKV,cAAgB,IAAIkB,IAAIC,MAAMJ,EAAc,CAC7CK,SAAU,CAAA,CACd,CAAC,EAGDL,EAAaM,iBAAiB,iBAAkB,SAAUC,GAClDlB,EAAQG,eAAe,QAAQ,GAA+B,YAA1B,OAAOH,EAAQmB,QACnDnB,EAAQmB,OAAOD,CAAC,CAExB,CAAC,EACDP,EAAaM,iBAAiB,mBAAoB,SAAUC,GACxDP,EAAaS,OAAO,EAEhBpB,EAAQG,eAAe,UAAU,GAAiC,YAA5B,OAAOH,EAAQqB,UACrDrB,EAAQqB,SAASH,CAAC,CAE1B,CAAC,EAEDP,EAAaM,iBAAiB,iBAAkB,SAAUC,GAClDlB,EAAQG,eAAe,QAAQ,GAA+B,YAA1B,OAAOH,EAAQsB,QACnDtB,EAAQsB,OAAOJ,CAAC,CAExB,CAAC,EAEDP,EAAaM,iBAAiB,kBAAmB,SAAUC,GACnDlB,EAAQG,eAAe,SAAS,GAAgC,YAA3B,OAAOH,EAAQuB,SACpDvB,EAAQuB,QAAQL,CAAC,CAEzB,CAAC,EAEDP,EAAaM,iBAAiB,0BAA2B,SAAUC,GAC3DlB,EAAQG,eAAe,iBAAiB,GAAwC,YAAnC,OAAOH,EAAQwB,iBAC5DxB,EAAQwB,gBAAgBN,CAAC,CAEjC,CAAC,EAEDZ,KAAKV,cAAcC,KAAK,EAEjBc,CACX,EAMAc,KAAM,WAEEnB,KAAKV,gBACLU,KAAKV,cAAc6B,KAAK,EACxBnB,KAAKV,cAAgB,KAE7B,EAOAW,UAAW,WAIP,IAFAN,IAAIyB,EAAS,KAAM,IAAIC,MAAOC,QAAQ,EAE7BC,EAAI,EAAGC,EAAI,EAAGA,EAAIJ,EAAOK,OAAQF,GAAKA,EAC3CA,EAAI,GAAKA,EAAIH,EAAOM,WAAWF,CAAC,EAAE,EAGtC,OAAOG,KAAKC,IAAIL,CAAC,CACrB,CACJ","file":"coreui-modal.min.js","sourcesContent":["\r\nvar CoreUI = typeof CoreUI !== 'undefined' ? CoreUI : {};\r\n\r\nCoreUI.modal = {\r\n\r\n    _currentModal: null,\r\n\r\n    /**\r\n     * @param title\r\n     * @param body\r\n     * @param options\r\n     * @returns {HTMLElement}\r\n     */\r\n    show: function (title, body, options) {\r\n\r\n        body    = typeof body === \"string\" ? body : '';\r\n        options = typeof options === 'object' ? options : {};\r\n\r\n        let tplFooter = options.hasOwnProperty('footer') && typeof options.footer === \"string\"\r\n            ? '<div class=\"modal-footer\">' + options.footer + '</div>'\r\n            : '';\r\n\r\n        let uniqueId = this._hashCode();\r\n        let tpl =\r\n            '<div class=\"modal fade\" tabindex=\"-1\" id=\"modal-' + uniqueId + '\">' +\r\n              '<div class=\"modal-dialog modal-lg\">' +\r\n                '<div class=\"modal-content\">' +\r\n                  '<div class=\"modal-header\">' +\r\n                    '<h5 class=\"modal-title\">' + title + '</h5>' +\r\n                    '<button type=\"button\" class=\"btn-close\" data-mdb-dismiss=\"modal\"></button>' +\r\n                  '</div>' +\r\n                  '<div class=\"modal-body\">' +\r\n                    body +\r\n                  '</div>' +\r\n                  tplFooter +\r\n                '</div>' +\r\n              '</div>' +\r\n            '</div>';\r\n\r\n\r\n        $('body').append(tpl);\r\n        let modalElement   = document.getElementById('modal-' + uniqueId);\r\n        this._currentModal = new mdb.Modal(modalElement, {\r\n            backdrop: true\r\n        })\r\n\r\n\r\n        modalElement.addEventListener('hide.mdb.modal', function (e) {\r\n            if (options.hasOwnProperty('onHide') && typeof options.onHide === 'function') {\r\n                options.onHide(e);\r\n            }\r\n        });\r\n        modalElement.addEventListener('hidden.mdb.modal', function (e) {\r\n            modalElement.remove();\r\n\r\n            if (options.hasOwnProperty('onHidden') && typeof options.onHidden === 'function') {\r\n                options.onHidden(e);\r\n            }\r\n        });\r\n\r\n        modalElement.addEventListener('show.mdb.modal', function (e) {\r\n            if (options.hasOwnProperty('onShow') && typeof options.onShow === 'function') {\r\n                options.onShow(e);\r\n            }\r\n        });\r\n\r\n        modalElement.addEventListener('shown.mdb.modal', function (e) {\r\n            if (options.hasOwnProperty('onShown') && typeof options.onShown === 'function') {\r\n                options.onShown(e);\r\n            }\r\n        });\r\n\r\n        modalElement.addEventListener('hidePrevented.mdb.modal', function (e) {\r\n            if (options.hasOwnProperty('onHidePrevented') && typeof options.onHidePrevented === 'function') {\r\n                options.onHidePrevented(e);\r\n            }\r\n        });\r\n\r\n        this._currentModal.show();\r\n\r\n        return modalElement;\r\n    },\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    hide: function () {\r\n\r\n        if (this._currentModal) {\r\n            this._currentModal.hide();\r\n            this._currentModal = null;\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * @returns {number}\r\n     * @private\r\n     */\r\n    _hashCode: function() {\r\n\r\n        let string = 'A' + new Date().getTime();\r\n\r\n        for (var h = 0, i = 0; i < string.length; h &= h) {\r\n            h = 31 * h + string.charCodeAt(i++);\r\n        }\r\n\r\n        return Math.abs(h);\r\n    }\r\n}"]}