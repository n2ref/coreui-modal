!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e="undefined"!=typeof globalThis?globalThis:e||self).CoreUI=e.CoreUI||{},e.CoreUI.modal=t())}(this,function(){"use strict";!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ejs=e()}(function(){return function o(i,r,s){function a(t,e){if(!r[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=r[t]={exports:{}},i[t][0].call(n.exports,function(e){return a(i[t][1][e]||e)},n,n.exports,o,i,r,s)}return r[t].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,c){var r=e("fs"),u=e("path"),d=e("./utils"),n=!1,e=e("../package.json").version,o="locals",i=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],l=i.concat("cache"),s=/^\uFEFF/,h=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;function a(t,e){var n;if(e.some(function(e){return n=c.resolveInclude(t,e,!0),r.existsSync(n)}))return n}function f(e,t){var n,o=e.filename,i=1<arguments.length;if(e.cache){if(!o)throw new Error("cache option requires a filename");if(n=c.cache.get(o))return n;i||(t=p(o).toString().replace(s,""))}else if(!i){if(!o)throw new Error("Internal EJS error: no file name or template provided");t=p(o).toString().replace(s,"")}return n=c.compile(t,e),e.cache&&c.cache.set(o,n),n}function p(e){return c.fileLoader(e)}function m(e,t){var n=d.shallowCopy(d.createNullProtoObjWherePossible(),t);if(n.filename=function(e,t){var n,o=t.views,i=/^[A-Za-z]+:\\|^\//.exec(e);if(i&&i.length)e=e.replace(/^\/*/,""),n=Array.isArray(t.root)?a(e,t.root):c.resolveInclude(e,t.root||"/",!0);else if(!(n=!(n=t.filename&&(i=c.resolveInclude(e,t.filename),r.existsSync(i))?i:n)&&Array.isArray(o)?a(e,o):n)&&"function"!=typeof t.includer)throw new Error('Could not find the include file "'+t.escapeFunction(e)+'"');return n}(e,n),"function"==typeof t.includer){t=t.includer(e,n.filename);if(t&&(t.filename&&(n.filename=t.filename),t.template))return f(n,t.template)}return f(n)}function g(e,t,n,o,i){var t=t.split("\n"),r=Math.max(o-3,0),s=Math.min(t.length,o+3),i=i(n),n=t.slice(r,s).map(function(e,t){t=t+r+1;return(t==o?" >> ":"    ")+t+"| "+e}).join("\n");throw e.path=i,e.message=(i||"ejs")+":"+o+"\n"+n+"\n\n"+e.message,e}function _(e){return e.replace(/;(\s*$)/,"$1")}function y(e,t){var t=d.hasOwnOnlyObject(t),n=d.createNullProtoObjWherePossible();this.templateText=e,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",n.client=t.client||!1,n.escapeFunction=t.escape||t.escapeFunction||d.escapeXML,n.compileDebug=!1!==t.compileDebug,n.debug=!!t.debug,n.filename=t.filename,n.openDelimiter=t.openDelimiter||c.openDelimiter||"<",n.closeDelimiter=t.closeDelimiter||c.closeDelimiter||">",n.delimiter=t.delimiter||c.delimiter||"%",n.strict=t.strict||!1,n.context=t.context,n.cache=t.cache||!1,n.rmWhitespace=t.rmWhitespace,n.root=t.root,n.includer=t.includer,n.outputFunctionName=t.outputFunctionName,n.localsName=t.localsName||c.localsName||o,n.views=t.views,n.async=t.async,n.destructuredLocals=t.destructuredLocals,n.legacyInclude=void 0===t.legacyInclude||!!t.legacyInclude,n.strict?n._with=!1:n._with=void 0===t._with||t._with,this.opts=n,this.regex=this.createRegex()}c.cache=d.cache,c.fileLoader=r.readFileSync,c.localsName=o,c.promiseImpl=new Function("return this;")().Promise,c.resolveInclude=function(e,t,n){var o=u.dirname,i=u.extname,n=(0,u.resolve)(n?t:o(t),e);return i(e)||(n+=".ejs"),n},c.compile=function(e,t){return t&&t.scope&&(n||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),n=!0),t.context||(t.context=t.scope),delete t.scope),new y(e,t).compile()},c.render=function(e,t,n){t=t||d.createNullProtoObjWherePossible(),n=n||d.createNullProtoObjWherePossible();return 2==arguments.length&&d.shallowCopyFromList(n,t,i),f(n,e)(t)},c.renderFile=function(){var e,t,n,o=Array.prototype.slice.call(arguments),i=o.shift(),r={filename:i},s=("function"==typeof arguments[arguments.length-1]&&(e=o.pop()),o.length?(t=o.shift(),o.length?d.shallowCopy(r,o.pop()):(t.settings&&(t.settings.views&&(r.views=t.settings.views),t.settings["view cache"]&&(r.cache=!0),o=t.settings["view options"])&&d.shallowCopy(r,o),d.shallowCopyFromList(r,t,l)),r.filename=i):t=d.createNullProtoObjWherePossible(),r),a=t,o=e;if(!o){if("function"==typeof c.promiseImpl)return new c.promiseImpl(function(e,t){try{e(n=f(s)(a))}catch(e){t(e)}});throw new Error("Please provide a callback function")}try{n=f(s)(a)}catch(e){return o(e)}o(null,n)},c.Template=y,c.clearCache=function(){c.cache.reset()},y.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},y.prototype={createRegex:function(){var e="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",t=d.escapeRegExpChars(this.opts.delimiter),n=d.escapeRegExpChars(this.opts.openDelimiter),o=d.escapeRegExpChars(this.opts.closeDelimiter),e=e.replace(/%/g,t).replace(/</g,n).replace(/>/g,o);return new RegExp(e)},compile:function(){var e,i=this.opts,t="",n="",r=i.escapeFunction,o=i.filename?JSON.stringify(i.filename):"undefined";if(!this.source){if(this.generateSource(),t+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',i.outputFunctionName){if(!h.test(i.outputFunctionName))throw new Error("outputFunctionName is not a valid JS identifier.");t+="  var "+i.outputFunctionName+" = __append;\n"}if(i.localsName&&!h.test(i.localsName))throw new Error("localsName is not a valid JS identifier.");if(i.destructuredLocals&&i.destructuredLocals.length){for(var s="  var __locals = ("+i.localsName+" || {}),\n",a=0;a<i.destructuredLocals.length;a++){var c=i.destructuredLocals[a];if(!h.test(c))throw new Error("destructuredLocals["+a+"] is not a valid JS identifier.");0<a&&(s+=",\n  "),s+=c+" = __locals."+c}t+=s+";\n"}!1!==i._with&&(t+="  with ("+i.localsName+" || {}) {\n",n+="  }\n"),this.source=t+this.source+(n+="  return __output;\n")}t=i.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+o+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,i.client&&(t="escapeFn = escapeFn || "+r.toString()+";\n"+t,i.compileDebug)&&(t="rethrow = rethrow || "+g.toString()+";\n"+t),i.strict&&(t='"use strict";\n'+t),i.debug&&console.log(t),i.compileDebug&&i.filename&&(t=t+"\n//# sourceURL="+o+"\n");try{if(i.async)try{l=new Function("return (async function(){}).constructor;")()}catch(e){throw e instanceof SyntaxError?new Error("This environment does not support async/await"):e}else l=Function;e=new l(i.localsName+", escapeFn, include, rethrow",t)}catch(e){throw e instanceof SyntaxError&&(i.filename&&(e.message+=" in "+i.filename),e.message+=" while compiling ejs\n\n",e.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",e.message+="https://github.com/RyanZim/EJS-Lint",i.async||(e.message+="\n",e.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),e}n=i.client?e:function(o){return e.apply(i.context,[o||d.createNullProtoObjWherePossible(),r,function(e,t){var n=d.shallowCopy(d.createNullProtoObjWherePossible(),o);return t&&(n=d.shallowCopy(n,t)),m(e,i)(n)},g])};if(i.filename&&"function"==typeof Object.defineProperty){var o=i.filename,l=u.basename(o,u.extname(o));try{Object.defineProperty(n,"name",{value:l,writable:!1,enumerable:!1,configurable:!0})}catch(e){}}return n},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var n=this,o=this.parseTemplateText(),i=this.opts.delimiter,r=this.opts.openDelimiter,s=this.opts.closeDelimiter;o&&o.length&&o.forEach(function(e,t){if(0===e.indexOf(r+i)&&0!==e.indexOf(r+i+i)&&(t=o[t+2])!=i+s&&t!="-"+i+s&&t!="_"+i+s)throw new Error('Could not find matching close tag for "'+e+'".');n.scanLine(e)})},parseTemplateText:function(){for(var e,t=this.templateText,n=this.regex,o=n.exec(t),i=[];o;)0!==(e=o.index)&&(i.push(t.substring(0,e)),t=t.slice(e)),i.push(o[0]),t=t.slice(o[0].length),o=n.exec(t);return t&&i.push(t),i},_addOutput:function(e){if(this.truncate&&(e=e.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!e)return e;e=(e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+e+'")\n'},scanLine:function(e){var t=this.opts.delimiter,n=this.opts.openDelimiter,o=this.opts.closeDelimiter,i=e.split("\n").length-1;switch(e){case n+t:case n+t+"_":this.mode=y.modes.EVAL;break;case n+t+"=":this.mode=y.modes.ESCAPED;break;case n+t+"-":this.mode=y.modes.RAW;break;case n+t+"#":this.mode=y.modes.COMMENT;break;case n+t+t:this.mode=y.modes.LITERAL,this.source+='    ; __append("'+e.replace(n+t+t,n+t)+'")\n';break;case t+t+o:this.mode=y.modes.LITERAL,this.source+='    ; __append("'+e.replace(t+t+o,t+o)+'")\n';break;case t+o:case"-"+t+o:case"_"+t+o:this.mode==y.modes.LITERAL&&this._addOutput(e),this.mode=null,this.truncate=0===e.indexOf("-")||0===e.indexOf("_");break;default:if(this.mode){switch(this.mode){case y.modes.EVAL:case y.modes.ESCAPED:case y.modes.RAW:e.lastIndexOf("//")>e.lastIndexOf("\n")&&(e+="\n")}switch(this.mode){case y.modes.EVAL:this.source+="    ; "+e+"\n";break;case y.modes.ESCAPED:this.source+="    ; __append(escapeFn("+_(e)+"))\n";break;case y.modes.RAW:this.source+="    ; __append("+_(e)+")\n";break;case y.modes.COMMENT:break;case y.modes.LITERAL:this._addOutput(e)}}else this._addOutput(e)}this.opts.compileDebug&&i&&(this.currentLine+=i,this.source+="    ; __line = "+this.currentLine+"\n")}},c.escapeXML=d.escapeXML,c.__express=c.renderFile,c.VERSION=e,c.name="ejs","undefined"!=typeof window&&(window.ejs=c)},{"../package.json":6,"./utils":2,fs:3,path:4}],2:[function(e,t,o){function r(e,t){return i.apply(e,[t])}var n=/[|\\{}()[\]^$+*?.]/g,i=Object.prototype.hasOwnProperty,s=(o.escapeRegExpChars=function(e){return e?String(e).replace(n,"\\$&"):""},{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"}),a=/[&<>'"]/g;function c(e){return s[e]||e}function l(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'}o.escapeXML=function(e){return null==e?"":String(e).replace(a,c)};try{"function"==typeof Object.defineProperty?Object.defineProperty(o.escapeXML,"toString",{value:l}):o.escapeXML.toString=l}catch(e){console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)")}o.shallowCopy=function(e,t){if(t=t||{},null!=e)for(var n in t)r(t,n)&&"__proto__"!==n&&"constructor"!==n&&(e[n]=t[n]);return e},o.shallowCopyFromList=function(e,t,n){if(n=n||[],t=t||{},null!=e)for(var o=0;o<n.length;o++){var i=n[o];void 0!==t[i]&&r(t,i)&&"__proto__"!==i&&"constructor"!==i&&(e[i]=t[i])}return e},o.cache={_data:{},set:function(e,t){this._data[e]=t},get:function(e){return this._data[e]},remove:function(e){delete this._data[e]},reset:function(){this._data={}}},o.hyphenToCamel=function(e){return e.replace(/-[a-z]/g,function(e){return e[1].toUpperCase()})},o.createNullProtoObjWherePossible="function"==typeof Object.create?function(){return Object.create(null)}:{__proto__:null}instanceof Object?function(){return{}}:function(){return{__proto__:null}},o.hasOwnOnlyObject=function(e){var t,n=o.createNullProtoObjWherePossible();for(t in e)r(e,t)&&(n[t]=e[t]);return n}},{}],3:[function(e,t,n){},{}],4:[function(e,t,l){!function(i){function r(e,t){for(var n=0,o=e.length-1;0<=o;o--){var i=e[o];"."===i?e.splice(o,1):".."===i?(e.splice(o,1),n++):n&&(e.splice(o,1),n--)}if(t)for(;n--;)e.unshift("..");return e}function s(e,t){if(e.filter)return e.filter(t);for(var n=[],o=0;o<e.length;o++)t(e[o],o,e)&&n.push(e[o]);return n}l.resolve=function(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){var o=0<=n?arguments[n]:i.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,t="/"===o.charAt(0))}return(t?"/":"")+(e=r(s(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},l.normalize=function(e){var t=l.isAbsolute(e),n="/"===o(e,-1);return(e=(e=r(s(e.split("/"),function(e){return!!e}),!t).join("/"))||t?e:".")&&n&&(e+="/"),(t?"/":"")+e},l.isAbsolute=function(e){return"/"===e.charAt(0)},l.join=function(){var e=Array.prototype.slice.call(arguments,0);return l.normalize(s(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},l.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=l.resolve(e).substr(1),t=l.resolve(t).substr(1);for(var o=n(e.split("/")),i=n(t.split("/")),r=Math.min(o.length,i.length),s=r,a=0;a<r;a++)if(o[a]!==i[a]){s=a;break}for(var c=[],a=s;a<o.length;a++)c.push("..");return(c=c.concat(i.slice(s))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=47===e.charCodeAt(0),n=-1,o=!0,i=e.length-1;1<=i;--i)if(47===e.charCodeAt(i)){if(!o){n=i;break}}else o=!1;return-1===n?t?"/":".":t&&1===n?"/":e.slice(0,n)},l.basename=function(e,t){e=function(e){"string"!=typeof e&&(e+="");for(var t=0,n=-1,o=!0,i=e.length-1;0<=i;--i)if(47===e.charCodeAt(i)){if(!o){t=i+1;break}}else-1===n&&(o=!1,n=i+1);return-1===n?"":e.slice(t,n)}(e);return e=t&&e.substr(-1*t.length)===t?e.substr(0,e.length-t.length):e},l.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,o=-1,i=!0,r=0,s=e.length-1;0<=s;--s){var a=e.charCodeAt(s);if(47===a){if(i)continue;n=s+1;break}-1===o&&(i=!1,o=s+1),46===a?-1===t?t=s:1!==r&&(r=1):-1!==t&&(r=-1)}return-1===t||-1===o||0===r||1===r&&t===o-1&&t===n+1?"":e.slice(t,o)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}.call(this,e("_process"))},{_process:5}],5:[function(e,t,n){var o,i,t=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{o="function"==typeof setTimeout?setTimeout:r}catch(e){o=r}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}function a(t){if(o===setTimeout)return setTimeout(t,0);if((o===r||!o)&&setTimeout)return(o=setTimeout)(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}var c,l=[],u=!1,d=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length)&&f()}function f(){if(!u){for(var e=a(h),t=(u=!0,l.length);t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,!function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return(i=clearTimeout)(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],6:[function(e,t,n){t.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"3.1.9",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",license:"Apache-2.0",bin:{ejs:"./bin/cli.js"},main:"./lib/ejs.js",jsdelivr:"ejs.min.js",unpkg:"ejs.min.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{jake:"^10.8.5"},devDependencies:{browserify:"^16.5.1",eslint:"^6.8.0","git-directory-deploy":"^1.5.1",jsdoc:"^4.0.2","lru-cache":"^4.0.1",mocha:"^10.2.0","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},scripts:{test:"npx jake test"}}},{}]},{},[1])(1)});let i=Object.create(null),r=(i["loading.html"]='<div class="py-4 d-flex justify-content-center align-items-center gap-2"> <div class="spinner-border mr-2"></div> <%= lang.loading %> </div> ',i["modal.html"]='<div class="modal fade" id="coreui-modal-<%= id %>"> <div class="modal-dialog <% if (modal.size) { %>modal-<%= modal.size %><% } %>"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title"><%- modal.title %></h5> <button type="button" class="btn-close" data-bs-dismiss="modal"></button> </div> <div class="modal-body"></div> <% if (modal.footer) { %> <div class="modal-footer"></div> <% } %> </div> </div> </div>',{isObject:function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e},hashCode:function(){return this.crc32(((new Date).getTime()+Math.random()).toString()).toString(16)},crc32:function(e){for(var t=[],n=0;n<256;n++){for(var o=n,i=0;i<8;i++)o=1&o?3988292384^o>>>1:o>>>1;t[n]=o}for(var r=-1,s=0;s<e.length;s++)r=r>>>8^t[255&(r^e.charCodeAt(s))];return(-1^r)>>>0}}),s={trigger:function(e,t,n,o){if(o=o||[],e._events.hasOwnProperty(t)&&0<e._events[t].length)for(var i=0;i<e._events[t].length;i++){var r=e._events[t][i].callback;n=e._events[t][i].context||n,r.apply(n,o),e._events[t][i].singleExec&&(e._events[t].splice(i,1),i--)}},renderContent:function(t,n){var o,i=[];if("string"==typeof n)i.push(n);else if(n instanceof Object){Array.isArray(n)||(n=[n]);for(let e=0;e<n.length;e++)"string"==typeof n[e]?i.push(n[e]):n[e]instanceof Object&&"function"==typeof n[e].render&&"function"==typeof n[e].initEvents?(i.push(n[e].render()),t.on("modal_shown",n[e].initEvents,n[e],!0)):!Array.isArray(n[e])&&n[e].hasOwnProperty("component")&&"coreui"===n[e].component.substring(0,6)&&(o=n[e].component.split(".")[1],CoreUI.hasOwnProperty(o))&&r.isObject(CoreUI[o])?(o=CoreUI[o].create(n[e]),i.push(o.render()),t.on("modal_shown",o.initEvents,o,!0)):i.push(JSON.stringify(n[e]))}return i}};class n{_options={id:"",lang:"en",backdrop:!0,loadUrl:null,size:"lg",title:null,body:null,footer:null};_id="";_modal=null;_events={};constructor(e){this._options=$.extend(!0,{},this._options,e),this._id=this._options.hasOwnProperty("id")&&"string"==typeof this._options.id&&this._options.id?this._options.id:r.hashCode()}getId(){return this._id}getOptions(){return $.extend(!0,{},this._options)}setContent(e){var t=$("#coreui-modal-"+this.getId()+" .modal-body");t[0]?(t.html(s.renderContent(this,e)),s.trigger(this,"content_change",this,[this])):r.isObject(e)&&(this._options.body=e)}setTitle(e){var t=$("#coreui-modal-"+this.getId()+" .modal-title");t[0]&&(t.html(e),s.trigger(this,"title_change",this,[this]))}setFooter(e){var t,n=$("#coreui-modal-"+this.getId());n[0]&&((t=n.find(".modal-footer"))[0]?t.html(e):n.find(".modal-content").append('<div class="modal-footer">'+e+"</div>"),s.trigger(this,"footer_change",this,[this]))}loadContent(e){let o=this,t=$("#coreui-modal-"+this.getId()+" .modal-body");var n;t[0]&&(n=ejs.render(i["loading.html"],{lang:o.getLang()}),t.html(n),$.ajax({url:e,method:"GET",beforeSend:function(e){s.trigger(o,"content_load_before",o,[o,e])},success:function(e){s.trigger(o,"content_load_success",o,[o,e]),t.html(s.renderContent(o,e)),s.trigger(o,"content_change",o,[o])},error:function(e,t,n){s.trigger(o,"content_load_error",o,[o,e,t,n])},complete:function(e,t){s.trigger(o,"content_load_complete",o,[o,e,t])}}))}show(){let n=document.getElementById("coreui-modal-"+this.getId());if(!n){var e=$(ejs.render(i["modal.html"],{id:this.getId(),modal:this._options}));this._options.body&&e.find(".modal-body").html(s.renderContent(this,this._options.body)),this._options.footer&&e.find(".modal-footer").html(this._options.footer),$("body").append(e),n=document.getElementById("coreui-modal-"+this.getId()),this._modal=new bootstrap.Modal(n,{backdrop:this._options.backdrop});let t=this;n.addEventListener("show.bs.modal",function(e){s.trigger(t,"modal_show",t,[t])}),n.addEventListener("shown.bs.modal",function(e){s.trigger(t,"modal_shown",t,[t])}),n.addEventListener("hide.bs.modal",function(e){s.trigger(t,"modal_hide",t,[t])}),n.addEventListener("hidden.bs.modal",function(e){n.remove(),s.trigger(t,"modal_hidden",t,[t])}),this._modal.show(),this._options.loadUrl&&this.loadContent(this._options.loadUrl)}return n}hide(){this._modal&&(this._modal.hide(),this._modal=null)}destruct(){$("#coreui-modal-"+this.getId()).remove(),delete e._instances[this.getId()]}getLang(){return e.lang.hasOwnProperty(this._options.lang)?e.lang[this._options.lang]:e.lang.en}on(e,t,n,o){"object"!=typeof this._events[e]&&(this._events[e]=[]),this._events[e].push({context:n||this,callback:t,singleExec:!!o})}}var e={lang:{},_instances:{},_settings:{lang:"en"},create:function(e){e.hasOwnProperty("lang")||(e.lang=this.getSetting("lang"));var e=new n(e instanceof Object?e:{}),t=e.getId();return this._instances[t]=e},get:function(e){return this._instances.hasOwnProperty(e)?$("#coreui-modal-"+this._instances[e])[0]?this._instances[e]:(delete this._instances[e],null):null},show:function(e,t,n){n="object"!=typeof n||Array.isArray(n)||null===n?{}:n,n=$.extend(!0,{},n,{title:e,body:t});e=this.create(n);return"function"==typeof n.onShow&&e.on("modal_show",n.onShow),"function"==typeof n.onShown&&e.on("modal_shown",n.onShown),"function"==typeof n.onHide&&e.on("modal_hide",n.onHide),"function"==typeof n.onHidden&&e.on("modal_hidden",n.onHidden),e.show()},showLoad:function(e,t,n){n="object"!=typeof n||Array.isArray(n)||null===n?{}:n,n=$.extend(!0,{},n,{title:e,loadUrl:t});e=this.create(n);return"function"==typeof n.onShow&&e.on("modal_show",n.onShow),"function"==typeof n.onShown&&e.on("modal_shown",n.onShown),"function"==typeof n.onHide&&e.on("modal_hide",n.onHide),"function"==typeof n.onHidden&&e.on("modal_hidden",n.onHidden),e.show()},hideLast:function(n){var e=this._instances.reverse();$.each(e,function(e,t){if(document.getElementById("coreui-modal-"+t.getId()))return"function"==typeof n&&t.on("modal_hidden",n),t.hide(),!1})},hideAll:function(n){"function"==typeof n&&$.each(this._instances,function(e,t){if(document.getElementById("coreui-modal-"+t.getId()))return t.on("modal_hidden",n),!1});var e=this._instances.reverse();$.each(e,function(e,t){document.getElementById("coreui-modal-"+t.getId())&&t.hide()})},setSettings:function(e){this._settings=$.extend(this,{},this._settings,e)},getSetting:function(e){let t=null;return t=this._settings.hasOwnProperty(e)?this._settings[e]:t}};return e.lang.en={loading:"Loading..."},e.lang.ru={loading:"Загрузка..."},e});
//# sourceMappingURL=coreui-modal.min.js.map
